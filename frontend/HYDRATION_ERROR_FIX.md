# ハイドレーションエラー修正

## 問題

Next.jsでハイドレーションエラーが発生していました：
- サーバー側とクライアント側でレンダリング結果が異なる
- `localStorage`を直接使用していたため、サーバー側では`undefined`、クライアント側では値が存在

## 修正内容

### 1. `app/page.tsx`の修正

- `useState`と`useEffect`を使用してクライアント側でのみ`localStorage`にアクセス
- サーバー側レンダリング時はローディング画面を表示
- クライアント側でのみ認証チェックを実行

### 2. `lib/api.ts`の修正

- API接続エラーの詳細なログ出力（開発環境のみ）
- タイムアウト設定を追加（10秒）
- エラーハンドリングの改善

## 使用方法

1. 開発サーバーを再起動：
   ```bash
   npm run dev
   ```

2. バックエンドAPIが起動していない場合：
   - モックデータが自動的に使用されます
   - コンソールに警告が表示されます（開発環境のみ）

3. バックエンドAPIを起動する場合：
   - `NEXT_PUBLIC_API_BASE_URL`環境変数を設定
   - または、デフォルトの`http://localhost:8080`を使用

## 注意事項

- ハイドレーションエラーは解消されました
- API接続エラーは、バックエンドが起動していない場合に発生しますが、モックデータで動作します
- 本番環境では、必ずバックエンドAPIを起動してください


